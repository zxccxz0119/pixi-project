"use strict";var production="false"===$("#appjs").data("mode"),friendo_url=$("#appjs").data("site"),device=deviceCheck();function findGetParameter(o){var t=null,n=[];return location.search.substr(1).split("&").forEach(function(e){(n=e.split("="))[0]===o&&(t=decodeURIComponent(n[1]))}),t}function checkCookie(o){var t=null,n=[];return document.cookie.split(";").forEach(function(e){" "==e.charAt(0)&&(e=e.substring(1)),(n=e.split("="))[0]===o&&(t=n[1])}),t}function deviceCheck(){var e={},o=new MobileDetect(window.navigator.userAgent);return o.match(/android/i)?(e.os="android",e.version=o.version("android")):o.match(/(iphone|ipad|ipod);?/i)?(e.os="ios",e.version=o.version("iOS")):(e.os="pc",e.version=o.version("Chrome")),e}Vue.config.devtools=!production,Vue.config.debug=!production,Vue.config.silent=!production,$(function(){console.log("v1",device.os,device.version),$(".nav").menu()}),Vue.mixin({data:function(){return{status:"",start_date:"2100/08/09 12:09:10",error_msg:"",mode:production?"Started":"Testing",loading:!1}},computed:{openCome:function(){return!("Testing"==this.mode||start_date<=0)}},watch:{error_msg:function(e){$("body").toggleClass("_freeze")}},methods:{gaEvant:function(e){dataLayer.push(e),console.log("ga:",e)},server_busy:function(){var e=this;e.error_msg="系統忙碌中，請稍後在試!",e.loading=!1,e.error_cou=6},setCookie:function(e,o,t){var n=new Date;n.setTime(n.getTime()+1e3*t);var r="expires="+n.toUTCString();document.cookie=e+"="+o+";"+r+";"},logger:function(e,o,t){if(production){_LTracker.push({level:["ERROR","DEBUG","WARNING","INFO","ALL"][e],content:JSON.stringify(o),path:window.location.href,tag:t||null,device:device,timestamp:Date.now()})}},errorDone:function(){this.error_msg=""},checkOnline:function(){navigator.onLine||alert("Internet 連線已斷開，請確認您的網路狀態。")},state_check:function(){var t=this;return $.ajax({method:"GET",url:friendo_url+"GetProjectInfo",success:function(e){var o=e.Data;t.start_date=o.StartDateTime,t.mode=o.Status}})}},components:{}}),Vue.component("comingsoon",{template:"#comingsoon",props:["StartDate","mode"],data:function(){return{comingsoon:!1,date:{total:0,days:0,hours:0,minutes:0,seconds:0}}},mounted:function(){var i=function e(o,t){return(o=""+o).length>=t?o:e("0"+o,t)},a=this,s=setInterval(function(){var e=Date.parse(new Date(a.StartDate))-Date.parse(new Date),o=Math.floor(e/1e3%60),t=Math.floor(e/1e3/60%60),n=Math.floor(e/36e5%24),r=Math.floor(e/864e5);a.date={total:e,days:i(r,2),hours:i(n,2),minutes:i(t,2),seconds:i(o,2)},a.date.total<=0||"Testing"==a.mode?(clearInterval(s),a.comingsoon=!1):a.comingsoon=!0},1e3)}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJwcm9kdWN0aW9uIiwiJCIsImRhdGEiLCJkZXZpY2UiLCJkZXZpY2VDaGVjayIsImZpbmRHZXRQYXJhbWV0ZXIiLCJwYXJhbWV0ZXJOYW1lIiwicmVzdWx0IiwibG9jYXRpb24iLCJ0bXAiLCJzZWFyY2giLCJpdGVtIiwiZm9yRWFjaCIsInNwbGl0IiwiZGVjb2RlVVJJQ29tcG9uZW50IiwiY2hlY2tDb29raWUiLCJjb29raWUiLCJkb2N1bWVudCIsInN1YnN0cmluZyIsImNoYXJBdCIsIm1kIiwiTW9iaWxlRGV0ZWN0Iiwid2luZG93IiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidmVyc2lvbiIsIm9zIiwibWl4aW4iLCJWdWUiLCJjb25maWciLCJkZXZ0b29scyIsImRlYnVnIiwiY29uc29sZSIsImxvZyIsImVycm9yX21zZyIsIm1vZGUiLCJsb2FkaW5nIiwic3RhdHVzIiwic3RhcnRfZGF0ZSIsImNvbXB1dGVkIiwib3BlbkNvbWUiLCJ3YXRjaCIsInRoaXMiLCJ0b2dnbGVDbGFzcyIsIm1ldGhvZHMiLCJnYUV2YW50IiwidmFsIiwiZGF0YUxheWVyIiwicHVzaCIsInNlcnZlcl9idXN5Iiwidm0iLCJndG1EYXRhIiwic2V0Q29va2llIiwiRGF0ZSIsImQiLCJzZXRUaW1lIiwiZ2V0VGltZSIsImVycm9yX2NvdSIsImNuYW1lIiwiY3ZhbHVlIiwidGltZSIsImxvZ2dlciIsImV4cGlyZXMiLCJ0b1VUQ1N0cmluZyIsImxldmVsX2luZm8iLCJsZXZlbCIsIl9MVHJhY2tlciIsInRhZyIsIm5vdyIsImNvbnRlbnQiLCJKU09OIiwic3RyaW5naWZ5IiwicGF0aCIsImhyZWYiLCJhbGVydCIsImNoZWNrT25saW5lIiwic3RhdGVfY2hlY2siLCJvbkxpbmUiLCJzdWNjZXNzIiwiYWpheCIsInJlcyIsIkRhdGEiLCJTdGFydERhdGVUaW1lIiwiU3RhdHVzIiwiY29tcG9uZW50IiwiZGF0ZSIsInRvdGFsIiwiZGF5cyIsImhvdXJzIiwibWludXRlcyIsInNlY29uZHMiLCJwYWRMZWZ0Iiwic3RyIiwibW91bnRlZCIsImxlbiIsImxlbmd0aCIsInNldEludGVydmFsIiwidCIsIlN0YXJ0RGF0ZSIsInBhcnNlIiwiTWF0aCIsImNsZWFySW50ZXJ2YWwiLCJ0aW1laW50ZXJ2YWwiLCJjb21pbmdzb29uIl0sIm1hcHBpbmdzIjoiYUFBQSxJQUNJQSxXQUEwQyxVQUE3QkMsRUFBRSxVQUFVQyxLQUFLLFFBQTlCRixZQUFhQyxFQUFFLFVBQVVDLEtBQUssUUFHNUJDLE9BQVNDLGNBV2YsU0FBU0MsaUJBQWlCQyxHQUExQixJQUFBQyxFQUFTRixLQUNERSxFQUFBQSxHQWFSLE9BYklDLFNBQ0lDLE9BQ0pELE9BQVNFLEdBSURELE1BQU1FLEtBQ05DLFFBQUksU0FBV04sSUFMdkJHLEVBQUFFLEVBQUFFLE1BQUEsTUFRQSxLQUFBUCxJQUNIQyxFQUFBTyxtQkFBQUwsRUFBQSxPQUVRTSxFQUdMLFNBQUlDLFlBQVNDLEdBQ2JELElBQUFBLEVBQWEsS0FFTFAsRUFBSUUsR0FZWixPQVhZQSxTQUFZTyxPQUNmTCxNQUFBLEtBQ0RKLFFBQU1FLFNBQVdBLEdBQ0ZMLEtBQVBLLEVBQUpRLE9BQVdiLEtBTnZCSyxFQUFBQSxFQUFBTyxVQUFBLEtBVUhULEVBQUFFLEVBQUFFLE1BQUEsTUFKbUIsS0FBT1AsSUFNbEJGLEVBQWNLLEVBQUEsTUFFZlcsRUFHQWpCLFNBQUFBLGNBQ0gsSUFIREEsRUFHV2lCLEdBQ1BqQixFQUFBQSxJQUFBa0IsYUFBQUMsT0FBQUMsVUFBQUMsV0FXQSxPQVZBckIsRUFBQUEsTUFBT3NCLGFBRkp0QixFQUdBdUIsR0FBQSxVQUNIdkIsRUFBT3VCLFFBQVBOLEVBQUFLLFFBQUEsWUFDT0EsRUFBQUEsTUFBUCwwQkFDSHRCLEVBQUF1QixHQUFBLE1BQ0R2QixFQUFPQSxRQUFQaUIsRUFBQUssUUFBQSxTQUhJdEIsRUFBT3VCLEdBQUssS0FNaEJDLEVBQU1GLFFBQUFMLEVBQUFLLFFBQUEsV0FFRnRCLEVBekRSeUIsSUFB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QUYsRUFBQSxHQUNIdkMsUUFBR3FELEVBQWFiLEVBQWhCLElBakJSeEMsRUFBQW1DLEtBQUFDLE9BQUEsR0FBQSxXQUFBcEMsRUFBQWYsTUFvQkFrRSxjQUFBQyxHQUNIcEQsRUFBQXFELFlBQUEsR0FKV3JELEVBQUdxRCxZQUFhLEdBRXJCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0XHJcbiAgICBwcm9kdWN0aW9uID0gJChcIiNhcHBqc1wiKS5kYXRhKFwibW9kZVwiKSA9PT0gXCJmYWxzZVwiLFxyXG4gICAgZnJpZW5kb191cmwgPSAkKFwiI2FwcGpzXCIpLmRhdGEoXCJzaXRlXCIpO1xyXG5cclxuY29uc3QgZGV2aWNlID0gZGV2aWNlQ2hlY2soKTtcclxuXHJcblZ1ZS5jb25maWcuZGV2dG9vbHMgPSAhcHJvZHVjdGlvbjtcclxuVnVlLmNvbmZpZy5kZWJ1ZyA9ICFwcm9kdWN0aW9uO1xyXG5WdWUuY29uZmlnLnNpbGVudCA9ICFwcm9kdWN0aW9uO1xyXG5cclxuJChmdW5jdGlvbiAoKSB7XHJcbiAgICBjb25zb2xlLmxvZyhcInYxXCIsIGRldmljZS5vcywgZGV2aWNlLnZlcnNpb24pO1xyXG4gICAgJChcIi5uYXZcIikubWVudSgpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGZpbmRHZXRQYXJhbWV0ZXIocGFyYW1ldGVyTmFtZSkge1xyXG4gICAgbGV0IHJlc3VsdCA9IG51bGwsXHJcbiAgICAgICAgdG1wID0gW107XHJcbiAgICBsb2NhdGlvbi5zZWFyY2hcclxuICAgICAgICAuc3Vic3RyKDEpXHJcbiAgICAgICAgLnNwbGl0KFwiJlwiKVxyXG4gICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChpdGVtKSB7XHJcbiAgICAgICAgICAgIHRtcCA9IGl0ZW0uc3BsaXQoXCI9XCIpO1xyXG4gICAgICAgICAgICBpZiAodG1wWzBdID09PSBwYXJhbWV0ZXJOYW1lKVxyXG4gICAgICAgICAgICAgICAgcmVzdWx0ID0gZGVjb2RlVVJJQ29tcG9uZW50KHRtcFsxXSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja0Nvb2tpZShwYXJhbWV0ZXJOYW1lKSB7XHJcbiAgICBsZXQgcmVzdWx0ID0gbnVsbCxcclxuICAgICAgICB0bXAgPSBbXTtcclxuICAgIGxldCBjb29raWUgPSBkb2N1bWVudC5jb29raWU7XHJcbiAgICBjb29raWUuc3BsaXQoXCI7XCIpXHJcbiAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcclxuICAgICAgICAgICAgaWYgKGl0ZW0uY2hhckF0KDApID09IFwiIFwiKSB7XHJcbiAgICAgICAgICAgICAgICBpdGVtID0gaXRlbS5zdWJzdHJpbmcoMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdG1wID0gaXRlbS5zcGxpdChcIj1cIik7XHJcbiAgICAgICAgICAgIGlmICh0bXBbMF0gPT09IHBhcmFtZXRlck5hbWUpXHJcbiAgICAgICAgICAgICAgICByZXN1bHQgPSB0bXBbMV07XHJcbiAgICAgICAgfSlcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGRldmljZUNoZWNrKCkge1xyXG4gICAgbGV0IGRldmljZSA9IHt9O1xyXG4gICAgbGV0IG1kID0gbmV3IE1vYmlsZURldGVjdCh3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudCk7XHJcbiAgICBpZiAobWQubWF0Y2goL2FuZHJvaWQvaSkpIHtcclxuICAgICAgICBkZXZpY2Uub3MgPSBcImFuZHJvaWRcIjtcclxuICAgICAgICBkZXZpY2UudmVyc2lvbiA9IG1kLnZlcnNpb24oXCJhbmRyb2lkXCIpO1xyXG4gICAgfSBlbHNlIGlmIChtZC5tYXRjaCgvKGlwaG9uZXxpcGFkfGlwb2QpOz8vaSkpIHtcclxuICAgICAgICBkZXZpY2Uub3MgPSBcImlvc1wiO1xyXG4gICAgICAgIGRldmljZS52ZXJzaW9uID0gbWQudmVyc2lvbihcImlPU1wiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgZGV2aWNlLm9zID0gXCJwY1wiO1xyXG4gICAgICAgIGRldmljZS52ZXJzaW9uID0gbWQudmVyc2lvbihcIkNocm9tZVwiKTtcclxuICAgIH1cclxuICAgIHJldHVybiBkZXZpY2U7XHJcbn1cclxuXHJcblZ1ZS5taXhpbih7XHJcbiAgICBkYXRhOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgICAgc3RhdHVzOiBcIlwiLFxyXG4gICAgICAgICAgICBzdGFydF9kYXRlOiBcIjIxMDAvMDgvMDkgMTI6MDk6MTBcIixcclxuICAgICAgICAgICAgZXJyb3JfbXNnOiBcIlwiLFxyXG4gICAgICAgICAgICBtb2RlOiBwcm9kdWN0aW9uID8gXCJTdGFydGVkXCIgOiBcIlRlc3RpbmdcIixcclxuICAgICAgICAgICAgbG9hZGluZzogZmFsc2VcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgY29tcHV0ZWQ6IHtcclxuICAgICAgICBvcGVuQ29tZTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICByZXR1cm4gISh0aGlzLm1vZGUgPT0gXCJUZXN0aW5nXCIgfHwgc3RhcnRfZGF0ZSA8PSAwKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgd2F0Y2g6IHtcclxuICAgICAgICBlcnJvcl9tc2c6IGZ1bmN0aW9uICh2YWwpIHtcclxuICAgICAgICAgICAgJCgnYm9keScpLnRvZ2dsZUNsYXNzKCdfZnJlZXplJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIG1ldGhvZHM6IHtcclxuICAgICAgICBnYUV2YW50OiBmdW5jdGlvbiAoZ3RtRGF0YSkge1xyXG4gICAgICAgICAgICBkYXRhTGF5ZXIucHVzaChndG1EYXRhKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJnYTpcIiwgZ3RtRGF0YSk7XHJcbiAgICAgICAgfSxcclxuICAgICAgICBzZXJ2ZXJfYnVzeTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBsZXQgdm0gPSB0aGlzO1xyXG4gICAgICAgICAgICB2bS5lcnJvcl9tc2cgPSBcIuezu+e1seW/meeijOS4re+8jOiri+eojeW+jOWcqOippiFcIjtcclxuICAgICAgICAgICAgdm0ubG9hZGluZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICB2bS5lcnJvcl9jb3UgPSA2O1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2V0Q29va2llOiBmdW5jdGlvbiAoY25hbWUsIGN2YWx1ZSwgdGltZSkge1xyXG4gICAgICAgICAgICB2YXIgZCA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGQuc2V0VGltZShkLmdldFRpbWUoKSArICh0aW1lICogMTAwMCkpO1xyXG4gICAgICAgICAgICB2YXIgZXhwaXJlcyA9IFwiZXhwaXJlcz1cIiArIGQudG9VVENTdHJpbmcoKTtcclxuICAgICAgICAgICAgZG9jdW1lbnQuY29va2llID0gY25hbWUgKyBcIj1cIiArIGN2YWx1ZSArIFwiO1wiICsgZXhwaXJlcyArIFwiO1wiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9nZ2VyOiBmdW5jdGlvbiAobGV2ZWwsIGNvbnRlbnQsIHRhZykge1xyXG4gICAgICAgICAgICBpZiAocHJvZHVjdGlvbikge1xyXG4gICAgICAgICAgICAgICAgLy8gbGV2ZWwgOiBbJ0VSUk9SJyA9PiAwLCBERUJVRycgPT4gMSwgJ1dBUk5JTkcnID0+IDIsICdJTkZPJyA9PiAzLCAnQUxMJyA9PiA0XVxyXG4gICAgICAgICAgICAgICAgbGV0IGxldmVsX2luZm8gPSBbJ0VSUk9SJywgJ0RFQlVHJywgJ1dBUk5JTkcnLCAnSU5GTycsICdBTEwnXTtcclxuICAgICAgICAgICAgICAgIF9MVHJhY2tlci5wdXNoKHtcclxuICAgICAgICAgICAgICAgICAgICAnbGV2ZWwnOiBsZXZlbF9pbmZvW2xldmVsXSxcclxuICAgICAgICAgICAgICAgICAgICAnY29udGVudCc6IEpTT04uc3RyaW5naWZ5KGNvbnRlbnQpLFxyXG4gICAgICAgICAgICAgICAgICAgICdwYXRoJzogd2luZG93LmxvY2F0aW9uLmhyZWYsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RhZyc6IHRhZyB8fCBudWxsLFxyXG4gICAgICAgICAgICAgICAgICAgICdkZXZpY2UnOiBkZXZpY2UsXHJcbiAgICAgICAgICAgICAgICAgICAgJ3RpbWVzdGFtcCc6IERhdGUubm93KClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBlcnJvckRvbmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdGhpcy5lcnJvcl9tc2cgPSBcIlwiO1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY2hlY2tPbmxpbmU6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCFuYXZpZ2F0b3Iub25MaW5lKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIkludGVybmV0IOmAo+e3muW3suaWt+mWi++8jOiri+eiuuiqjeaCqOeahOe2sui3r+eLgOaFi+OAglwiKTtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc3RhdGVfY2hlY2s6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAgICAgcmV0dXJuICQuYWpheCh7XHJcbiAgICAgICAgICAgICAgICBtZXRob2Q6IFwiR0VUXCIsXHJcbiAgICAgICAgICAgICAgICB1cmw6IGAke2ZyaWVuZG9fdXJsfUdldFByb2plY3RJbmZvYCxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhID0gcmVzLkRhdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgdm0uc3RhcnRfZGF0ZSA9IGRhdGEuU3RhcnREYXRlVGltZTtcclxuICAgICAgICAgICAgICAgICAgICB2bS5tb2RlID0gZGF0YS5TdGF0dXM7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGNvbXBvbmVudHM6IHtcclxuICAgICAgICAvLyBjb21pbmdzb29uOiBjb21pbmdzb29uXHJcbiAgICB9XHJcbn0pXHJcblxyXG5cclxuVnVlLmNvbXBvbmVudCgnY29taW5nc29vbicsIHtcclxuICAgIHRlbXBsYXRlOiBcIiNjb21pbmdzb29uXCIsXHJcbiAgICBwcm9wczogWydTdGFydERhdGUnLCAnbW9kZSddLFxyXG4gICAgZGF0YTogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGNvbWluZ3Nvb246IGZhbHNlLFxyXG4gICAgICAgICAgICBkYXRlOiB7XHJcbiAgICAgICAgICAgICAgICB0b3RhbDogMCxcclxuICAgICAgICAgICAgICAgIGRheXM6IDAsXHJcbiAgICAgICAgICAgICAgICBob3VyczogMCxcclxuICAgICAgICAgICAgICAgIG1pbnV0ZXM6IDAsXHJcbiAgICAgICAgICAgICAgICBzZWNvbmRzOiAwXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbW91bnRlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHZhciBwYWRMZWZ0ID0gZnVuY3Rpb24gKHN0ciwgbGVuKSB7XHJcbiAgICAgICAgICAgIHN0ciA9ICcnICsgc3RyO1xyXG4gICAgICAgICAgICBpZiAoc3RyLmxlbmd0aCA+PSBsZW4pIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiBzdHI7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFkTGVmdChcIjBcIiArIHN0ciwgbGVuKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdmFyIHZtID0gdGhpcztcclxuICAgICAgICAvLyB2bS5zdGF0ZV9jaGVjaygpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xyXG4gICAgICAgIC8vICAgICB2YXIgZGF0YSA9IHJlcy5EYXRhO1xyXG4gICAgICAgIC8vICAgICB2bS5zdGFydF9kYXRlID0gZGF0YS5TdGFydERhdGVUaW1lO1xyXG4gICAgICAgIHZhciB0aW1laW50ZXJ2YWwgPSBzZXRJbnRlcnZhbChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHZhciB0ID0gRGF0ZS5wYXJzZShuZXcgRGF0ZSh2bS5TdGFydERhdGUpKSAtIERhdGUucGFyc2UobmV3IERhdGUoKSk7XHJcbiAgICAgICAgICAgIHZhciBzZWNvbmRzID0gTWF0aC5mbG9vcigodCAvIDEwMDApICUgNjApO1xyXG4gICAgICAgICAgICB2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoKHQgLyAxMDAwIC8gNjApICUgNjApO1xyXG4gICAgICAgICAgICB2YXIgaG91cnMgPSBNYXRoLmZsb29yKCh0IC8gKDEwMDAgKiA2MCAqIDYwKSkgJSAyNCk7XHJcbiAgICAgICAgICAgIHZhciBkYXlzID0gTWF0aC5mbG9vcih0IC8gKDEwMDAgKiA2MCAqIDYwICogMjQpKTtcclxuICAgICAgICAgICAgdm0uZGF0ZSA9IHtcclxuICAgICAgICAgICAgICAgICd0b3RhbCc6IHQsXHJcbiAgICAgICAgICAgICAgICAnZGF5cyc6IHBhZExlZnQoZGF5cywgMiksXHJcbiAgICAgICAgICAgICAgICAnaG91cnMnOiBwYWRMZWZ0KGhvdXJzLCAyKSxcclxuICAgICAgICAgICAgICAgICdtaW51dGVzJzogcGFkTGVmdChtaW51dGVzLCAyKSxcclxuICAgICAgICAgICAgICAgICdzZWNvbmRzJzogcGFkTGVmdChzZWNvbmRzLCAyKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICBpZiAodm0uZGF0ZS50b3RhbCA8PSAwIHx8IHZtLm1vZGUgPT0gXCJUZXN0aW5nXCIpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGltZWludGVydmFsKTtcclxuICAgICAgICAgICAgICAgIHZtLmNvbWluZ3Nvb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHZtLmNvbWluZ3Nvb24gPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICB9LFxyXG59KSJdfQ==
